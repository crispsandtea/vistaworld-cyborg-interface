<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>vistaworld // System Unit 393AP</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=VT323&family=Press+Start+2P&family=DM+Mono&display=swap" rel="stylesheet">

<style>
* { margin:0; padding:0; box-sizing:border-box; }
html, body { width:100%; height:100%; overflow:hidden; }

:root{
  --cyan:#00ffea;
  --magenta:#ff00ff;
  --blue:#4169ff;
  --yellow:#ffff00;
}

body{
  background:#000;
  font-family:'VT323', monospace;
}

/* BACKGROUND */
.desktop-bg{
  position:fixed;
  inset:0;
  background:url("hyperconnectivity.jpg") center/cover no-repeat;
  z-index:0;
}
.desktop-bg::after{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(0,0,0,0.45);
}

.desktop{
  position:relative;
  width:100%;
  height:100%;
  z-index:1;
}

/* WINDOWS */
.window{
  position:absolute;
  background:rgba(15,15,15,0.95);
  border:2px solid;
  border-radius:8px;
  box-shadow:0 0 30px rgba(0,0,0,0.8);
  overflow:hidden;
}

.window-header{
  padding:8px 12px;
  background:linear-gradient(#2a2a2a,#111);
  border-bottom:2px solid;
  cursor:move;
  display:flex;
  justify-content:space-between;
  align-items:center;
  user-select:none;
}

.window-title{
  font-family:'Press Start 2P', monospace;
  font-size:10px;
}

.window-controls{ display:flex; gap:6px; }
.window-btn{ width:14px; height:14px; border-radius:2px; cursor:pointer; }
.close{ background:#ff5f56; }
.minimize{ background:#ffbd2e; }
.maximize{ background:#27c93f; }

.window-content{
  padding:16px;
  color:#fff;
  font-size:16px;
  line-height:1.5;
}

/* MANUAL POSITIONS */
#logo-window{ top:4%; left:4%; min-width:680px; border-color:var(--blue); }
#system-icon{ top:18%; left:6%; width:420px; border-color:var(--cyan); text-align:center; }
#hlsp-window{ top:50%; left:6%; width:500px; border-color:var(--yellow); text-align:center; }
#intro-window{ top:18%; right:6%; width:520px; border-color:var(--magenta); }
#network-window{ bottom:12%; right:4%; width:300px; border-color:var(--yellow); }

/* TASKBAR */
.taskbar{
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  height:50px;
  background:rgba(10,10,10,0.95);
  border-top:2px solid var(--cyan);
  display:flex;
  align-items:center;
  padding:0 20px;
  z-index:500;
}
.taskbar-time{
  margin-left:auto;
  color:var(--magenta);
}
</style>
</head>

<body>
<div class="desktop-bg"></div>

<div class="desktop">

  <!-- WINDOWS (unchanged markup) -->
  <!-- LOGO -->
  <div class="window" id="logo-window">...</div>

  <div class="window" id="system-icon">...</div>

  <div class="window" id="hlsp-window">...</div>

  <div class="window" id="intro-window">...</div>

  <div class="window" id="chat-window">...</div>

  <div class="window" id="network-window">...</div>

</div>

<div class="taskbar">
  â—‰ SYSTEM ONLINE
  <div class="taskbar-time" id="time"></div>
</div>

<script>
/* AUTO-CASCADE WINDOWS */
let offsetX = 40;
let offsetY = 40;
let step = 60;

document.querySelectorAll('.window').forEach((win, i) => {
  const style = getComputedStyle(win);
  const hasManualPosition =
    style.top !== 'auto' ||
    style.left !== 'auto' ||
    style.right !== 'auto' ||
    style.bottom !== 'auto';

  if (!hasManualPosition) {
    win.style.top = offsetY + i * step + "px";
    win.style.left = offsetX + i * step + "px";
  }
});

/* DRAG + WINDOW CONTROLS */
let z = 10;
document.querySelectorAll('.window').forEach(win=>{
  const header = win.querySelector('.window-header');
  const closeBtn = win.querySelector('.close');
  const minimizeBtn = win.querySelector('.minimize');

  if(closeBtn){
    closeBtn.addEventListener('click', e=>{
      e.stopPropagation();
      win.style.display = 'none';
    });
  }

  if(minimizeBtn){
    minimizeBtn.addEventListener('click', e=>{
      e.stopPropagation();
      win.style.transform = 'scale(0)';
      win.style.opacity = '0';
      setTimeout(()=>win.style.display='none',300);
    });
  }

  header.addEventListener('mousedown',e=>{
    if(e.target.classList.contains('window-btn')) return;
    win.style.zIndex = ++z;

    const r = win.getBoundingClientRect();
    const ox = e.clientX - r.left;
    const oy = e.clientY - r.top;

    function move(ev){
      win.style.left = Math.max(0, ev.clientX - ox) + "px";
      win.style.top = Math.max(0, ev.clientY - oy) + "px";
      win.style.transform = "none";
      win.style.opacity = "1";
    }

    function up(){
      document.removeEventListener('mousemove', move);
      document.removeEventListener('mouseup', up);
    }

    document.addEventListener('mousemove', move);
    document.addEventListener('mouseup', up);
  });
});

/* CLOCK */
setInterval(()=>{
  document.getElementById('time').textContent =
    new Date().toLocaleTimeString('en-US',{hour12:false});
},1000);
</script>
</body>
</html>
